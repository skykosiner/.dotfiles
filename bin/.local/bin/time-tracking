#!/usr/bin/env bash

declare -A timers
timers[ğŸ¬ Video Projects - Writing]="173708861 - Writing"
timers[ğŸ¬ Video Projects - Filming]="173708861 - Filming"
timers[ğŸ¬ Video Projects - Editing Video]="173708861 - Editing Video"
timers[ğŸ¬ Video Projects - Research]="173708861 - Research"
timers[ğŸŒ Personal Website - Writing]="10283937 - Writing"
timers[ğŸŒ Personal Website]="10283937"
timers[ğŸ« Tutor Code - Teaching]="170422549 - Teaching"
timers[ğŸ« Tutor Code - Prepping]="170422549 - Prepping"
timers[ğŸ’¼ Business - Admin]="171982787 - Admin"
timers[ğŸ’¼ Business - Email Newsletter]="171982787 - Email newsletter, Writing"
timers[ğŸ“¸ Instagram - Writing/Research]="164856066 - Writing, Research"
timers[ğŸ“¸ Instagram - Creative Stuff]="164856066 - Photography, Editing Photos, Videos, Editing Video"
timers[ğŸ“ Apprenticeship]="194299162"
timers[ğŸ“” Book - Writing]="197033841 - Writing"
timers[ğŸ“” Book - Research]="197033841 - Research"

timer=$(printf "%s\n" "${!timers[@]}" | sort | dmenu -i -p "Pick a timer to start: ")

if [[ "$timer" ]]; then
    project=$(printf "%s\n" "${timers["${timer}"]}" | cut -d"-" -f1)
    tags=$(printf "%s\n" "${timers["${timer}"]}" | cut -d"-" -f2- | sed "s/^ //")

    /home/sky/.local/bin/toggl start -o "$project" -a "$tags"
else
    echo "Nothing selcted" && exit 0
fi
