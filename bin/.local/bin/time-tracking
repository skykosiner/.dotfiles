#!/usr/bin/env bash

declare -A timers
timers[ğŸ¬ Video Projects - Writing]="173708861 - 10283749"
timers[ğŸ¬ Video Projects - Filming]="173708861 - 10283882"
timers[ğŸ¬ Video Projects - Editing Video]="173708861 - 10283891"
timers[ğŸ¬ Video Projects - Research]="173708861 - 10283937"
timers[ğŸŒ Personal Website - Writing]="10283937 - 10283749"
timers[ğŸŒ Personal Website]="10283937"
timers[ğŸ« Tutor Code - Teaching]="170422549 - 10283907"
timers[ğŸ« Tutor Code - Prepping]="170422549 - 10283903"
timers[ğŸ’¼ Business - Admin]="171982787 - 10283898"
timers[ğŸ’¼ Business - Email Newsletter]="171982787 - 10283749, 10964985"
timers[ğŸ“¸ Instagram - Writing/Research]="164856066 - 10283749, 10283937"
timers[ğŸ“¸ Instagram - Creative Stuff]="164856066 - 10283742, 10283882, 10283891, 10283744, 11183171"
timers[ğŸ“ Apprenticeship]="194299162"
timers[ğŸ“” Book - Writing]="197033841 - 10283749"
timers[ğŸ“” Book - Research]="197033841 - 10283937"

timer=$(printf "%s\n" "${!timers[@]}" | dmenu -i -p "Pick a timer to start: ")

if [[ "$timer" ]]; then
    project=$(printf "%s\n" "${timers["${timer}"]}" | cut -d"-" -f1)
    tags=$(printf "%s\n" "${timers["${timer}"]}" | cut -d"-" -f2- | sed "s/^ //")

    /home/sky/.local/bin/toggl start -o "$project" -a "$tags"
else
    echo "Nothing selcted" && exit 0
fi
