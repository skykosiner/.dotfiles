#!/usr/bin/env bash

case "$1" in
    "-togglePlay")
        ~/.local/bin/spotifycli --playpause
        ;;
    "-prev")
        ~/.local/bin/spotifycli --prev
        ;;
    "-next")
        ~/.local/bin/spotifycli --next
        ;;
    "-status")
        if ~/.local/bin/spotifycli --status;
        then
                echo "$(~/.local/bin/spotifycli --status)"
            else
            echo ""
        fi
        ;;
    "-status-wm")
        if ~/.local/bin/spotifycli --status;
        then
            echo "$(~/.local/bin/spotifycli --status)"
        else
            echo ""
        fi
        ;;
        "-select-album")
            id=$(cat ~/.dotfiles/album_list | sort | awk -F '|' '{print $1 " - "  $2 " id: " $3}' | dmenu -l 20 -i  -fn 'JetBrainsMono Nerd Font-15' | awk -F 'id: ' '{print $2}')

            if [[ ! -z $id ]]; then
                qdbus org.mpris.MediaPlayer2.spotify \
                    /org/mpris/MediaPlayer2 \
                    org.mpris.MediaPlayer2.Player.OpenUri \
                    spotify:album:$id
            fi
        ;;
    *) echo "Not a command... $1"
esac
