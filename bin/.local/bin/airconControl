#!/usr/bin/env bash

aircon="/home/sky/.local/bin/aircon"

case "$1" in
    "-cold")
        $aircon -power=true -mode=Cold -temp=18 -fan=Night
        pkill -SIGRTMIN+9 waybar
        ;;
    "-heat")
        $aircon -power=true -mode=Heat -temp=25 -fan=2
        pkill -SIGRTMIN+9 waybar
        ;;
    "-toggle")
        currentState=$($aircon | cut -d' ' -f4)

        if [[ $currentState == "On" ]]; then
            $aircon -power=false
        else
            $aircon -power=true
        fi

        pkill -SIGRTMIN+9 waybar

    ;;
    "-set-temp")
        tempNum=$(fuzzel --dmenu -p "Enter Temp > ")
        $aircon -temp=$tempNum
        pkill -SIGRTMIN+9 waybar
    ;;

    "-set-fan")
        fanMode=$(printf "Night\n1\n2\n3\n4\n5" | fuzzel --dmenu -p "Select Fan Mode")
        $aircon -fan=$fanMode
        pkill -SIGRTMIN+9 waybar
    ;;
esac
