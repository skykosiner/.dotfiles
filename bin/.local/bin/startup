#!/usr/bin/env bash

# YOU WANT TO SEE SOME REAL SPEED?????????????????????
xset r rate 300 50

# Map the caps lock super
# setxkbmap -option caps:super

# When capslock is pressed only once, treat it as escape
# killall xcap 2>/dev/null ; xcape -e 'Super_L=Escape'

[[ -f ~/.Xmodmap ]] && xmodmap ~/.Xmodmap

# Turn off caps lock if on since there is no longer a key for it
xset -q | grep "Caps Lock:\s*on" && xdotool key Caps_Lock

# Set those notifications
dunst &

# Set my screen layout

# Set my keyboard layout
# Don't need this here right now as my moonlander's layout is saved on the
# board not the computer
# setxkbmap -layout real-prog-dvorak

# PICOM
picom &

# Set last used background and color scheme
wal -R &

# Set them dwmblocks if dwm is running
pgrep dwm >/dev/null && dwmblocks &

# Every time a new keyboard is plugged in set the layout and remap keys
newKeyboard &

# AUDIO ON LINUX
/usr/bin/pipewire &
/usr/bin/pipewire-pulse &
/usr/bin/wireplumber &

# Nvida drivers btw
xrandr --setprovideroutputsource modesetting NVIDIA-0 &
xrandr --auto &

# Trying emacs again?
emacs --daemon &

qbittorrent-nox -d &
sudo tor &
